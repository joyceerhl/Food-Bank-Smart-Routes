<html>
<head>
  <title>Smart Routes</title>
  <meta charset = "utf-8" name = "viewport" content = "width=device-width, initial-scale=1.0">
  <link rel = "stylesheet" href= "resources/css/main.css">
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://www.google.com/jsapi"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
</head>
<body>
  <div class = "center-outside">
    <div class = "center-div">
      <div id = "showIfAdmin" style = "display: none;">
        <button id = "addPatient">Add Patients</button>
        <button id = "viewPatient">View Patients</button>
        <!--button id = "addDeliveryPerson">Add Delivery Personnel</button>
        <button id = "viewDeliveryPerson">View Delivery Personnel</button-->
        <button id = "routes">Find best routes</button>
      </div>
    </div>
  </div>
  <div id = "deliverStuff" style="display: none;">
    <button id = "markAsDone" style = "width: 100vw; height: 10vh; display: none;" class = "nobuttoncss">Mark all as done</button>
    <button id = "giveLocation" style = "width: 100vw; height: 10vh; display: none;" class = "nobuttoncss">Please Confirm your location</button>
    <div id = "deliveryMap"></div>
    <div class = "centered"><h1 id = "noDeliveries" style = "display: none;">No Pending Deliveries!</h1></div>
  </div>
  <div class = "centered">
    <div id = "confirmAddress" class = "popup" style = "background-color: rgb(240, 239, 239); display: none;">
      <div class = "center-outside">
        <div class = "center-div">
          <input type="text" id = "confirmAddressIn"></input>
          <button id= "confirmAddressPreview">Preview</button>
          <div id = "confirmAddressMap" style = "width: 60vw; height: 40vh;"></div>
          <button id= "confirmAddressConfirm">Confirm</button>
        </div>
      </div>
    </div>
  </div>
  <div id = "view" style = "display: none;">
    <button id = "removeAll">Remove All</button>
    <table id = "deliveryTableTable">
      <thead>
        <th>Email Address</th>
        <th>Logged In</th>
        <th>Confirmed Address</th>
        <th>Has Pending Deliveries</th>
        <th>Remove</th>
      </thead>
      <tbody id = "deliveryTableBody">
      </tbody>
    </table>
    <div id = "mapView" style = "width: 100vw; height: 70%;"></div>
  </div>
  <div class = "centered">
    <div id = "addPatientDiv" class = "popup" style = " background-color: rgb(240, 239, 239);">
      <div class = "center-outside">
        <div class = "center-div">
          <form>
            <h3>Add Patient Addresses</h3>
            <br>
            Enter as a list of addresses (each on a new line)
            <br>
            <textarea style = "width: 90%;" id = "patientAddresses" placeholder = "784 South Street Hummelstown, PA 17036
8918 Heather Ave. Shepherdsville, KY 40165"></textarea><br>
            <b>or</b> if you prefer to store addresses on a spreadsheet, <input accept=".csv" class = "inputfile" type = "file" name = "csvInput" id = "csvInput"></input><label id = "csvLabel" for="csvInput">import a .csv file</label><br>
            <button id = "preview">Preview Addresses on map</button>
            <div style = "width: 70vw; height: 40vh; display: none;" id="map"></div>
            <button class = "cancel">cancel</button><input id = "addBankButton" value = "Add Addresses" type = "submit"></input>
          </form>
        </div>
      </div>
    </div>
  </div>
  <div class = "centered">
    <div id = "deliveryPersonnelPopup" class = "popup" style = " background-color: rgb(240, 239, 239);">
      <div class = "center-outside">
        <div class = "center-div">
          <form>
            <h3>Add Delivery Personnel email addresses</h3>
            <br>
            Enter as a list of email addresses and addresses (each on a new line)
            <br>
            <textarea style = "width: 90%;" id = "deliveryAddresses" placeholder = "johndoe@gmail.com:265 Devon Dr. Sumter, SC 29150
janedoe@yahoo.com:31 Brookside Drive Sunnyside, NY 11104"></textarea><br>
            <b>or</b> if you prefer to store email addresses on a spreadsheet, <input accept=".csv" class = "inputfile" type = "file" id = "csvInputDelivery"></input><label id = "csvLabelDelivery" for="csvInputDelivery">import a .csv file</label><br>
            <button class = "cancel">cancel</button><input id = "addDeliveryPersonnel" value = "Add Delivery Personnel" type = "submit"></input>
          </form>
        </div>
      </div>
    </div>
  </div>
  <div class = "centered">
    <div id = "calculatePopup" class = "popup" style = "display: none; background-color: rgb(240, 239, 239);">
      <div class = "center-outside">
        <div class = "center-div">
          <form>
            <h3>Finalize</h3>
            <h4>Add Depot Address</h4>
            <input type = "text" placeholder = "address" id = "depotAddressIn"></input>
            <h4>Number of Delivery Personnel</h4>
            <input id = "numDeliv" type = "number" placeholder = "5" min = "1"></input>
            <h4>Sheet id of spreadsheet</h4>
            <input id = "linkToSpreadsheet" type = "text"></input>
            <p>Make sure to give editor permissions to freshproduceprogram-smartroute@suryajasper-website.iam.gserviceaccount.com and confirm sheet id. Check out <a href = "https://docs.google.com/document/d/1kJJv-Imzshnf29RiAujNglHbUoPon9CECZpupqZ8b8k/edit?usp=sharing">this reference guide</a> for more info.</p>
            <button id = "confirmCalculation">Calculate</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <script src="https://www.gstatic.com/firebasejs/7.15.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.15.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.15.1/firebase-database.js"></script>
  <script src = "resources/js/firebase-functions.js"></script>
  <script src = "resources/js/papaparse.min.js"></script>
  <script src = "resources/js/main.js"></script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB874rZyp7PmkKpMdfpbQfKXSSLEJwglvM&callback=initMap"></script>
</body>
</html>
